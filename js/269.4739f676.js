"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[269],{2447:function(t,s,e){e.d(s,{Z:function(){return c}});var a=function(){var t=this,s=t._self._c;return s("div",[s("validation-observer",{scopedSlots:t._u([{key:"default",fn:function({invalid:e}){return[s("form",{on:{submit:function(s){return s.preventDefault(),t.createOrder.apply(null,arguments)}}},[s("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function({errors:e,classes:a}){return[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"useremail"}},[t._v("Email *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:a,attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(s){s.target.composing||t.$set(t.form.user,"email",s.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])])]}}],null,!0)}),s("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:e,classes:a}){return[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"username"}},[t._v("收件人姓名 *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:a,attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(s){s.target.composing||t.$set(t.form.user,"name",s.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])])]}}],null,!0)}),s("validation-provider",{attrs:{rules:{regex:/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/,required:{allowFalse:!1}}},scopedSlots:t._u([{key:"default",fn:function({errors:e,classes:a}){return[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"tel"}},[t._v("收件人電話 *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:a,attrs:{type:"tel",id:"tel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(s){s.target.composing||t.$set(t.form.user,"tel",s.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])])]}}],null,!0)}),s("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:e,classes:a}){return[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"useraddress"}},[t._v("收件人地址 *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:a,attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(s){s.target.composing||t.$set(t.form.user,"address",s.target.value)}}}),s("span",{staticClass:"invalid-feedback"},[t._v(t._s(e[0]))])])]}}],null,!0)}),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"comment"}},[t._v("留言")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10",placeholder:"可選填"},domProps:{value:t.form.message},on:{input:function(s){s.target.composing||t.$set(t.form,"message",s.target.value)}}})]),s("div",{staticClass:"text-end"},[s("button",{staticClass:"btn btn-danger",attrs:{disabled:e}},[t._v("送出訂單")])])],1)]}}])})],1)},r=[],o={props:["form"],methods:{createOrder(){this.$emit("send")}}},i=o,l=e(1001),n=(0,l.Z)(i,a,r,!1,null,null,null),c=n.exports},1426:function(t,s,e){e.d(s,{Z:function(){return n}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"jumbotron d-flex justify-content-center align-items-end"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row justify-content-center align-items-end"},[s("div",{staticClass:"col-md-8"},[t._t("content",(function(){return[t._m(0)]}))],2)])])])},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"text-center"},[s("h1",{staticClass:"display-3 fw-bold text-white"},[t._v("Custom jumbotron")]),s("p",{staticClass:"fs-4 text-white"},[t._v("Using a series of utilities, you can create this jumbotron, just like the one in previous versions of Bootstrap. Check out the examples below for how you can remix and restyle it to your liking.")]),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"}},[t._v("搶購去")])])}],o=e(1001),i={},l=(0,o.Z)(i,a,r,!1,null,null,null),n=l.exports},5269:function(t,s,e){e.r(s),e.d(s,{default:function(){return d}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"shop"},[s("Jumbotron",{scopedSlots:t._u([{key:"content",fn:function(){return[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb justify-content-center fs-3 bg-dark"},[s("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/"}},[t._v("首頁")]),s("li",{staticClass:"breadcrumb-item active text-white"},[t._v("結帳")])],1)])]},proxy:!0}])}),s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center my-3"},[s("div",{staticClass:"col-md-6"},[s("h3",[t._v("使用者資料")]),s("UserForm",{attrs:{form:t.form},on:{send:t.createOrder}})],1),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"cart-total p-4 my-2"},[s("h3",[t._v("購物車金額")]),s("p",{staticClass:"d-flex"},[s("span",[t._v("小計")]),s("span",[t._v(t._s(t._f("currency")(t.cart.total)))])]),t._m(0),t._m(1),s("hr"),s("p",{staticClass:"d-flex justify-content-end m-0"},[s("span",[t._v("總價")]),s("strong",{staticClass:"fs-5"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]),s("p",{staticClass:"d-flex justify-content-end m-0 text-success"},[s("span",[t._v("折扣價")]),s("strong",{staticClass:"fs-5"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])])])]),t._m(2)])])])])],1)},r=[function(){var t=this,s=t._self._c;return s("p",{staticClass:"d-flex"},[s("span",[t._v("Delivery")]),s("span",[t._v("0.00")])])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"d-flex"},[s("span",[t._v("Discount")]),s("span",[t._v("0.00")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"cart-total p-4 my-2"},[s("h3",[t._v("付款方式")]),s("div",{staticClass:"form-check"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",checked:""}}),s("label",{staticClass:"form-check-label",attrs:{for:"flexRadioDefault1"}},[t._v(" 銀行轉帳 ")])]),s("div",{staticClass:"form-check"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"}}),s("label",{staticClass:"form-check-label",attrs:{for:"flexRadioDefault2"}},[t._v(" 信用卡 ")])]),s("div",{staticClass:"form-check"},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"}}),s("label",{staticClass:"form-check-label",attrs:{for:"flexRadioDefault2"}},[t._v(" Line Pay ")])]),s("div",{staticClass:"form-check mt-3"},[s("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"flexCheckDefault"}}),s("label",{staticClass:"form-check-label",attrs:{for:"flexCheckDefault"}},[t._v(" 我已讀過並同意購物條款 ")])])])])}],o=(e(7658),e(1426)),i=e(2447),l={data(){return{isLoading:!1,products:[],product:{},status:{info:"",addCart:"",delete:""},pagination:{},cart:{carts:[]},coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getProducts(t=1){const s=this,e=`https://vue-course-api.hexschool.io/api/gunshop/products?page=${t}`;s.$http.get(e).then((t=>{s.products=t.data.products,s.pagination=t.data.pagination,console.log(s.products)}))},getProduct(){const t=this,s=t.$route.params.id,e=`https://vue-course-api.hexschool.io/api/gunshop/product/${s}`;t.$http.get(e).then((s=>{t.product=s.data.product}))},addCart(t,s=1){const e=this,a="https://vue-course-api.hexschool.io/api/gunshop/cart";e.status.addCart=t;const r={product_id:t,qty:s};e.$http.post(a,{data:r}).then((t=>{e.$bus.$emit("msg-pop",t.data.message,"success"),e.status.addCart="",e.getCart()}))},getCart(){const t=this,s="https://vue-course-api.hexschool.io/api/gunshop/cart";t.$http.get(s).then((s=>{t.cart=s.data.data,console.log(t.cart)}))},addCouponCode(){const t=this,s="https://vue-course-api.hexschool.io/api/gunshop/coupon",e={code:t.coupon_code};t.$http.post(s,{data:e}).then((s=>{console.log(s),s.data.success?t.$bus.$emit("msg-pop",s.data.message,"success"):t.$bus.$emit("msg-pop",s.data.message,"danger"),t.coupon_code="",t.getCart()}))},delCartItem(t){const s=this,e=`https://vue-course-api.hexschool.io/api/gunshop/cart/${t}`;s.status.delete=t,s.$http.delete(e).then((t=>{s.$bus.$emit("msg-pop",t.data.message,"success"),s.getCart(),s.status.delete=""}))},createOrder(){const t=this,s="https://vue-course-api.hexschool.io/api/gunshop/order",e=t.form;t.isLoading=!0,t.$http.post(s,{data:e}).then((s=>{s.data.success&&(t.$bus.$emit("msg-pop",s.data.message,"success"),t.$router.push(`/payorder/${s.data.orderId}`)),t.isLoading=!1}))}},created(){this.getCart()},components:{Jumbotron:o.Z,UserForm:i.Z}},n=l,c=e(1001),u=(0,c.Z)(n,a,r,!1,null,"75067490",null),d=u.exports}}]);
//# sourceMappingURL=269.4739f676.js.map