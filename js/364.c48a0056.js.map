{"version":3,"file":"js/364.c48a0056.js","mappings":"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","sources":["webpack://project/./src/components/AlertMessage.vue","webpack://project/src/components/AlertMessage.vue","webpack://project/./src/components/AlertMessage.vue?7d40","webpack://project/./src/components/AlertMessage.vue?6385","webpack://project/./src/views/backend/Login.vue","webpack://project/src/views/backend/Login.vue","webpack://project/./src/views/backend/Login.vue?f03b","webpack://project/./src/views/backend/Login.vue?9b6a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-alert\"},_vm._l((_vm.messages),function(item,i){return _c('div',{key:i,staticClass:\"alert alert-dismissible\",class:'alert-' + item.status},[_vm._v(\" \"+_vm._s(item.message)+\" \"),_c('button',{staticClass:\"btn-close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\",\"data-bs-dismiss\":\"alert\"},on:{\"click\":function($event){return _vm.removeMessage(i)}}})])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"message-alert\">\r\n    <div\r\n      class=\"alert alert-dismissible\"\r\n      :class=\"'alert-' + item.status\"\r\n      v-for=\"(item, i) in messages\"\r\n      :key=\"i\"\r\n    >\r\n      {{ item.message }}\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn-close\"\r\n        @click=\"removeMessage(i)\"\r\n        aria-label=\"Close\"\r\n        data-bs-dismiss=\"alert\"\r\n      >\r\n\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Navbar\",\r\n  data() {\r\n    return {\r\n      messages: [],\r\n    };\r\n  },\r\n  methods: {\r\n    updateMessage(message, status) {\r\n      const timestamp = Math.floor(new Date() / 1000);\r\n      this.messages.push({\r\n        message,\r\n        status,\r\n        timestamp,\r\n      });\r\n      this.removeMessageWithTiming(timestamp);\r\n    },\r\n    removeMessage(num) {\r\n      this.messages.splice(num, 1);\r\n    },\r\n    removeMessageWithTiming(timestamp) {\r\n      const vm = this;\r\n      setTimeout(() => {\r\n        vm.messages.forEach((item, i) => {\r\n          if (item.timestamp === timestamp) {\r\n            vm.messages.splice(i, 1);\r\n          }\r\n        });\r\n      }, 1500);\r\n    },\r\n  },\r\n  created() {\r\n    const vm = this;\r\n    // 自定義名稱 'message:push'\r\n    // message: 傳入參數\r\n    // status: 樣式，預設值為 warning\r\n    vm.$bus.$on(\"msg-pop\", (message, status = \"warning\") => {\r\n      vm.updateMessage(message, status);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scope>\r\n.message-alert {\r\n  position: fixed;\r\n  max-width: 50%;\r\n  top: 10px;\r\n  right: 20px;\r\n  z-index: 1100;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AlertMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AlertMessage.vue?vue&type=template&id=565da9fe&\"\nimport script from \"./AlertMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./AlertMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AlertMessage.vue?vue&type=style&index=0&id=565da9fe&prod&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Alert'),_c('main',{staticClass:\"form-signin w-100 m-auto\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.signin.apply(null, arguments)}}},[_c('h1',{staticClass:\"h3 mb-3 fw-normal text-center\"},[_vm._v(\"管理者登入\")]),_c('div',{staticClass:\"form-floating\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"name@example.com\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"username\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email address\")])]),_c('div',{staticClass:\"form-floating\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")])]),_c('button',{staticClass:\"w-100 btn btn-lg btn-primary\",attrs:{\"type\":\"submit\"}},[(_vm.showIcon)?_c('i',{staticClass:\"fa-solid fa-cog fa-spin\"}):_vm._e(),_vm._v(\" 登入 \")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Alert></Alert>\r\n    <main class=\"form-signin w-100 m-auto\">\r\n      <form @submit.prevent=\"signin\">\r\n        <h1 class=\"h3 mb-3 fw-normal text-center\">管理者登入</h1>\r\n\r\n        <div class=\"form-floating\">\r\n          <input type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"name@example.com\" v-model=\"user.username\" />\r\n          <label for=\"email\">Email address</label>\r\n        </div>\r\n        <div class=\"form-floating\">\r\n          <input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\" v-model=\"user.password\" />\r\n          <label for=\"password\">Password</label>\r\n        </div>\r\n\r\n        <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\r\n          <i class=\"fa-solid fa-cog fa-spin\" v-if=\"showIcon\"></i>\r\n          登入\r\n        </button>\r\n      </form>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Alert from \"@/components/AlertMessage.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      showIcon: false,\r\n    };\r\n  },\r\n  methods: {\r\n    signin() {\r\n      const api = `${process.env.VUE_APP_APIPATH}/admin/signin`;\r\n      const vm = this;\r\n      vm.showIcon = true;\r\n      vm.$http.post(api, vm.user).then(response => {\r\n        vm.showIcon = false;\r\n        if (response.data.success) {\r\n          const token = response.data.token;\r\n          const expired = response.data.expired;\r\n          document.cookie = `myToken=${token}; expires=${new Date(\r\n            expired\r\n          )}; SameSite=None; Secure`;\r\n          vm.$router.push(\"/admin/products\");\r\n        } else vm.$bus.$emit(\"msg-pop\", response.data.message, \"danger\");\r\n      });\r\n    },\r\n  },\r\n  components: { Alert },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nhtml,\r\nbody {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 40px;\r\n  padding-bottom: 40px;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.form-signin {\r\n  max-width: 330px;\r\n  padding: 15px;\r\n}\r\n\r\n.form-signin .form-floating:focus-within {\r\n  z-index: 2;\r\n}\r\n\r\n.form-signin input[type=\"email\"] {\r\n  margin-bottom: -1px;\r\n  border-bottom-right-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n\r\n.form-signin input[type=\"password\"] {\r\n  margin-bottom: 10px;\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=07dbaea3&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=07dbaea3&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07dbaea3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_l","messages","item","i","key","class","status","_v","_s","message","attrs","on","$event","removeMessage","staticRenderFns","name","data","methods","updateMessage","timestamp","removeMessageWithTiming","setTimeout","vm","created","component","preventDefault","signin","apply","arguments","directives","rawName","value","user","username","expression","domProps","target","composing","$set","password","showIcon","_e","document","expired","components","Alert"],"sourceRoot":""}