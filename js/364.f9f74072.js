"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[364],{121:function(s,e,t){t.d(e,{Z:function(){return u}});var a=function(){var s=this,e=s._self._c;return e("div",{staticClass:"message-alert"},s._l(s.messages,(function(t,a){return e("div",{key:a,staticClass:"alert alert-dismissible",class:"alert-"+t.status},[s._v(" "+s._s(t.message)+" "),e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close","data-bs-dismiss":"alert"},on:{click:function(e){return s.removeMessage(a)}}})])})),0)},r=[],n=(t(7658),{name:"Navbar",data(){return{messages:[]}},methods:{updateMessage(s,e){const t=Math.floor(new Date/1e3);this.messages.push({message:s,status:e,timestamp:t}),this.removeMessageWithTiming(t)},removeMessage(s){this.messages.splice(s,1)},removeMessageWithTiming(s){const e=this;setTimeout((()=>{e.messages.forEach(((t,a)=>{t.timestamp===s&&e.messages.splice(a,1)}))}),1500)}},created(){const s=this;s.$bus.$on("msg-pop",((e,t="warning")=>{s.updateMessage(e,t)}))}}),o=n,i=t(1001),l=(0,i.Z)(o,a,r,!1,null,null,null),u=l.exports},7364:function(s,e,t){t.r(e),t.d(e,{default:function(){return m}});var a=function(){var s=this,e=s._self._c;return e("div",[e("Alert"),e("main",{staticClass:"form-signin w-100 m-auto"},[e("form",{on:{submit:function(e){return e.preventDefault(),s.signin.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 fw-normal text-center"},[s._v("管理者登入")]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"name@example.com"},domProps:{value:s.user.username},on:{input:function(e){e.target.composing||s.$set(s.user,"username",e.target.value)}}}),e("label",{attrs:{for:"email"}},[s._v("Email address")])]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:s.user.password},on:{input:function(e){e.target.composing||s.$set(s.user,"password",e.target.value)}}}),e("label",{attrs:{for:"password"}},[s._v("Password")])]),e("button",{staticClass:"w-100 btn btn-lg btn-primary",attrs:{type:"submit"}},[s.showIcon?e("i",{staticClass:"fa-solid fa-cog fa-spin"}):s._e(),s._v(" 登入 ")])])])],1)},r=[],n=(t(7658),t(121)),o={data(){return{user:{username:"",password:""},showIcon:!1}},methods:{signin(){const s="https://vue-course-api.hexschool.io/admin/signin",e=this;e.showIcon=!0,e.$http.post(s,e.user).then((s=>{if(e.showIcon=!1,s.data.success){const t=s.data.token,a=s.data.expired;document.cookie=`myToken=${t}; expires=${new Date(a)}; SameSite=None; Secure`,e.$router.push("/admin/products")}else e.$bus.$emit("msg-pop",s.data.message,"danger")}))}},components:{Alert:n.Z}},i=o,l=t(1001),u=(0,l.Z)(i,a,r,!1,null,"07dbaea3",null),m=u.exports}}]);
//# sourceMappingURL=364.f9f74072.js.map